{"version":3,"sources":["api/peopleData.js","Person.js","PeopleTable.js","App.js","index.js"],"names":["getPeoples","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","response","people","wrap","_context","prev","next","fetch","sent","json","abrupt","stop","apply","this","arguments","Person","state","selectedPersonId","_this2","peoples","props","react_default","createElement","map","person","key","id","onClick","setState","className","classnames","person--lived-in-${Math.ceil(person.died / 100)}","person-row","person--male","sex","person--female","person--father","children","length","person--mather","peopleTable__row","peopleTable__row--selected","born--before","born","died--after","died","name","mother","father","long--livers","age","century","React","Component","PeopleTable","_this$props","sortPeople","src_Person","getArrFromName","value","split","toLowerCase","startsWith","some","item","App","visiblePeople","sortField","direction","getFilterPeoples","event","target","_this","prevState","filter","byName","byMother","byFather","sortData","sortItem","toConsumableArray","sort","b","localeCompare","peopleData","index","objectSpread","Math","ceil","join","_this$state","onChange","type","placeholder","src_PeopleTable","ReactDOM","render","src_App_0","test","document","getElementById"],"mappings":"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","file":"static/js/main.f69be152.chunk.js","sourcesContent":["const getPeoples = async () => {\n  const url = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\n  const response = await fetch(url);\n  const people = await response.json();\n  \n  return people;\n}\n\nexport default getPeoples;\n","import React from 'react';\nimport classnames from 'classnames'\n\nclass Person extends React.Component {\n  state = {\n    selectedPersonId: null,\n  };\n\n  render() {\n    const { peoples } = this.props;\n    const { selectedPersonId } = this.state;\n\n    return (\n      <tbody>\n        {peoples.map((person) => (\n          <tr\n            key={person.id}\n            onClick={() => this.setState({ selectedPersonId: person.id })}\n            className={classnames({\n              'person--lived-in-${Math.ceil(person.died / 100)}': true,\n              'person-row': true,\n              'person--male': person.sex === 'm',\n              'person--female': person.sex === 'f',\n              'person--father': person.sex === 'm' && person.children.length > 0,\n              'person--mather': person.sex === 'f' && person.children.length > 0,\n              'peopleTable__row': true,\n              'peopleTable__row--selected': person.id === selectedPersonId,\n            })\n            }\n          >\n            <td>\n              {person.id}\n            </td>\n            <td className={classnames({\n              'born--before': person.born < 1650,\n              'died--after': person.died > 1800,\n            })}\n            >\n              {person.name}\n            </td>\n            <td>\n              {person.sex}\n            </td>\n            <td>\n              {person.born}\n            </td>\n            <td>\n              {person.died}\n            </td>\n            <td>\n              {person.mother}\n            </td>\n            <td>\n              {person.father}\n            </td>\n            <td className={classnames({\n              'long--livers': person.age > 65,\n            })}\n            >\n              {person.age}\n            </td>\n            <td>\n              {person.century}\n            </td>\n            <td>\n              {person.children}\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    )\n  }\n}\n\nexport default Person;\n","import React from 'react';\nimport PropTypes from 'react'\n\nimport Person from './Person';\n\nclass PeopleTable extends React.Component {\n\n  render() {\n    const { peoples, sortPeople } = this.props;\n\n    return (\n      <table className='table table-bordered'>\n        <thead className='thead-dark'>\n          <tr>\n            <th onClick={() => sortPeople('id')}>id</th>\n            <th onClick={() => sortPeople('name')}>name</th>\n            <th>sex</th>\n            <th onClick={() => sortPeople('born')}>born</th>\n            <th onClick={() => sortPeople('died')}>died</th>\n            <th>mother</th>\n            <th>father</th>\n            <th onClick={() => sortPeople('age')}>age</th>\n            <th>century</th>\n            <th>children</th>\n          </tr>\n        </thead>\n        <Person peoples={peoples} />\n      </table>\n    );\n  }\n}\n\nexport default PeopleTable;\n","import React from 'react';\n\nimport getPeoples from './api/peopleData'\nimport PeopleTable from './PeopleTable'\nimport { async } from 'q';\n\nimport './App.css'\n\nconst getArrFromName = (name, value) => {\n  if (name) {\n    if (value.split(' ').length > 1) {\n      return name.toLowerCase().startsWith(value.toLowerCase());\n    }\n\n    const arrFromName = name.toLowerCase().split(' ');\n    return arrFromName.some(item => item.startsWith(value.toLowerCase()));\n  }\n\n  return false;\n};\n\nclass App extends React.Component {\n  state = {\n    people: [],\n    visiblePeople: [],\n    sortField: 'id',\n    direction: -1,\n  }\n\n  async componentDidMount() {\n    const peopleData = await getPeoples();\n    const peoples = peopleData.map((person, index) => ({\n      id: index + 1,\n      ...person,\n      age: person.died - person.born,\n      century: Math.ceil(person.died / 100),\n      children: peopleData.filter(item => item.mother === person.name\n        || item.father === person.name)\n        .map(item => item.name)\n        .join(', '),\n    }));\n\n    this.setState({\n      peoples,\n      visiblePeople: peoples,\n    });\n  }\n\n  getFilterPeoples = (event) => {\n    const { value } = event.target;\n\n    this.setState(prevState => ({\n      visiblePeople: prevState.peoples.filter((person) => {\n        const byName = getArrFromName(person.name, value);\n        const byMother = getArrFromName(person.mother, value);\n        const byFather = getArrFromName(person.father, value);\n\n        return byName || byMother || byFather;\n      }),\n    }));\n  }\n\n  sortData = (sortItem) => {\n    this.setState(state => ({\n      direction: state.direction === 1 ? -1 : 1,\n      visiblePeople: [...state.visiblePeople].sort((a, b) => {\n        switch (typeof a[sortItem]) {\n          case 'string':\n            return this.state.direction * (a[sortItem].localeCompare(b[sortItem]));\n          case 'number':\n          case 'boolean':\n            return this.state.direction * (a[sortItem] - b[sortItem]);\n          default: return 0;\n        }\n      }),\n    }));\n  }\n\n  render() {\n    const { visiblePeople, sortData } = this.state;\n    return (\n      <div className='app'>\n        <h1 className='headline--number_people'>\n          Number of people: {visiblePeople.length}\n        </h1>\n        <form>\n          <input\n            onChange={this.getFilterPeoples}\n            className='input-filter_name'\n            type='text'\n            placeholder='Enter the name of the person, her mother or father' />\n        </form>\n        <PeopleTable peoples={visiblePeople} sortPeople={this.sortData} />\n      </div>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App test={123} />, document.getElementById('root'));\n"],"sourceRoot":""}