{"version":3,"sources":["api/peopleData.js","Person.js","PeopleTable.js","App.js","index.js"],"names":["getPeoples","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","response","people","wrap","_context","prev","next","fetch","sent","json","abrupt","stop","apply","this","arguments","Person","state","selectedPersonId","_this2","props","react_default","createElement","onClick","setState","id","className","classnames","person--lived-in-${Math.ceil(person.died / 100)}","person-row","person--male","sex","person--female","person--father","children","length","person--mather","peopleTable__row","peopleTable__row--selected","born--before","born","died--after","died","name","mother","father","long--livers","age","century","React","Component","PeopleTable","_this$props","peoples","sortPeople","map","person","src_Person","key","getArrFromName","value","split","toLowerCase","startsWith","some","item","App","visiblePeople","sortField","direction","getFilterPeoples","event","target","_this","prevState","filter","byName","byMother","byFather","sortData","sortItem","toConsumableArray","sort","b","localeCompare","peopleData","index","objectSpread","Math","ceil","join","_this$state","onChange","type","placeholder","src_PeopleTable","ReactDOM","render","src_App_0","test","document","getElementById"],"mappings":"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","file":"static/js/main.41911d7b.chunk.js","sourcesContent":["const getPeoples = async () => {\n  const url = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\n  const response = await fetch(url);\n  const people = await response.json();\n  \n  return people;\n}\n\nexport default getPeoples;\n","import React from 'react';\nimport classnames from 'classnames'\n\nclass Person extends React.Component {\n  state = {\n    selectedPersonId: null,\n  };\n\n  render() {\n    const { people } = this.props;\n    const { selectedPersonId } = this.state;\n\n    return (\n      <tr\n        onClick={() => this.setState({ selectedPersonId: people.id })}\n        className={classnames({\n          'person--lived-in-${Math.ceil(person.died / 100)}': true,\n          'person-row': true,\n          'person--male': people.sex === 'm',\n          'person--female': people.sex === 'f',\n          'person--father': people.sex === 'm' && people.children.length > 0,\n          'person--mather': people.sex === 'f' && people.children.length > 0,\n          'peopleTable__row': true,\n          'peopleTable__row--selected': people.id === selectedPersonId,\n        })\n        }\n      >\n        <td>\n          {people.id}\n        </td>\n        <td className={classnames({\n          'born--before': people.born < 1650,\n          'died--after': people.died > 1800,\n        })}>\n          {people.name}\n        </td>\n        <td>\n          {people.sex}\n        </td>\n        <td>\n          {people.born}\n        </td>\n        <td>\n          {people.died}\n        </td>\n        <td>\n          {people.mother}\n        </td>\n        <td>\n          {people.father}\n        </td>\n        <td className={classnames({\n          'long--livers': people.age > 65,\n        })}\n        >\n          {people.age}\n        </td>\n        <td>\n          {people.century}\n        </td>\n        <td>\n          {people.children}\n        </td>\n      </tr>\n    )\n  }\n}\n\nexport default Person;\n","import React from 'react';\nimport PropTypes from 'react'\n\nimport Person from './Person';\n\nclass PeopleTable extends React.Component {\n\n  render() {\n    const { peoples, sortPeople } = this.props;\n\n    return (\n      <table className='table table-bordered'>\n        <thead className='thead-dark'>\n          <tr>\n            <th onClick={() => sortPeople('id')}>id</th>\n            <th onClick={() => sortPeople('name')}>name</th>\n            <th>sex</th>\n            <th onClick={() => sortPeople('born')}>born</th>\n            <th onClick={() => sortPeople('died')}>died</th>\n            <th>mother</th>\n            <th>father</th>\n            <th onClick={() => sortPeople('age')}>age</th>\n            <th>century</th>\n            <th>children</th>\n          </tr>\n        </thead>\n        <tbody>\n          {peoples.map((person) => (\n            <Person key={person.id} people={person} />\n          ))}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nexport default PeopleTable;\n","import React from 'react';\n\nimport getPeoples from './api/peopleData'\nimport PeopleTable from './PeopleTable'\nimport { async } from 'q';\n\nimport './App.css'\n\nconst getArrFromName = (name, value) => {\n  if (name) {\n    if (value.split(' ').length > 1) {\n      return name.toLowerCase().startsWith(value.toLowerCase());\n    }\n\n    const arrFromName = name.toLowerCase().split(' ');\n    return arrFromName.some(item => item.startsWith(value.toLowerCase()));\n  }\n\n  return false;\n};\n\nclass App extends React.Component {\n  state = {\n    people: [],\n    visiblePeople: [],\n    sortField: 'id',\n    direction: -1,\n  }\n\n  async componentDidMount() {\n    const peopleData = await getPeoples();\n    const peoples = peopleData.map((person, index) => ({\n      id: index + 1,\n      ...person,\n      age: person.died - person.born,\n      century: Math.ceil(person.died / 100),\n      children: peopleData.filter(item => item.mother === person.name\n        || item.father === person.name)\n        .map(item => item.name)\n        .join(', '),\n    }));\n\n    this.setState({\n      peoples,\n      visiblePeople: peoples,\n    });\n  }\n\n  getFilterPeoples = (event) => {\n    const { value } = event.target;\n\n    this.setState(prevState => ({\n      visiblePeople: prevState.peoples.filter((person) => {\n        const byName = getArrFromName(person.name, value);\n        const byMother = getArrFromName(person.mother, value);\n        const byFather = getArrFromName(person.father, value);\n\n        return byName || byMother || byFather;\n      }),\n    }));\n  }\n\n  sortData = (sortItem) => {\n    this.setState(state => ({\n      direction: state.direction === 1 ? -1 : 1,\n      visiblePeople: [...state.visiblePeople].sort((a, b) => {\n        switch (typeof a[sortItem]) {\n          case 'string':\n            return this.state.direction * (a[sortItem].localeCompare(b[sortItem]));\n          case 'number':\n          case 'boolean':\n            return this.state.direction * (a[sortItem] - b[sortItem]);\n          default: return 0;\n        }\n      }),\n    }));\n  }\n\n  render() {\n    const { visiblePeople, sortData } = this.state;\n    return (\n      <div className='app'>\n        <h1 className='headline--number_people'>\n          Number of people: {visiblePeople.length}\n        </h1>\n        <form>\n          <input\n            onChange={this.getFilterPeoples}\n            className='input-filter_name'\n            type='text'\n            placeholder='Enter the name of the person, her mother or father' />\n        </form>\n        <PeopleTable peoples={visiblePeople} sortPeople={this.sortData} />\n      </div>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App test={123} />, document.getElementById('root'));\n"],"sourceRoot":""}